<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><base href="../"/><title>TUBE</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/><meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8"/><meta http-equiv="content-language" content="en-US"/><meta name="author" content="Graphisoft SE"/><link rel="stylesheet" href="reference.css" type="text/css"/><link rel="stylesheet" href="print.css" type="text/css" media="print"/></head><body class="gdlcommand"><h3 id="TUBE_gdlcommand">TUBE</h3>
                
                <pre class="programlisting"><b id="TUBE_keyword_2.7.5.38.4.1">TUBE</b> n, m, mask,
        u1, w1, s1,
        ...
        un, wn, sn,
        x1, y1, z1, angle1,
        ...
        xm, ym, zm, anglem</pre>
                
                    <p>
                        Surface generated by a polyline sweeping along a space curve path without distortion of the generating cross-section.
                        The internal connection surfaces are rotatable in the U-W plane of the
                        instantaneous U-V-W coordinate system.
                    </p>
                    <div style="margin-left: 1em">
                        <div style="text-indent: -1em"><code><b>V axis: </b></code>approximates the tangent of the generator curve at the corresponding point.</div>
                    </div>
                    <div style="margin-left: 1em">
                        <div style="text-indent: -1em"><code><b>W axis: </b></code>perpendicular to the V axis and pointing upward with respect to the local z axis.</div>
                    </div>
                    <div style="margin-left: 1em">
                        <div style="text-indent: -1em"><code><b>U axis: </b></code>perpendicular to the V and W axes and forms with them a right-hand sided Cartesian coordinate system.</div>
                    </div>
                    <p>
                        If the V axis is vertical, then the W direction is not correctly defined. The W axis in the previous path node is used for
                        determining a horizontal direction.
                    </p>
                    <p>The cross-section polygon of the tube measured at the middle of the path segments is always equal to the base polygon (u1, w1, ..., un, wn).</p>
                    <p>Section polygons in joints are situated in the bisector plane of the joint segments. The base polygon must be closed.</p>
                    <div style="margin-left: 1em">
                        <div style="text-indent: -1em"><code><b>n: </b></code>number of the polyline nodes.</div>
                    </div>
                    <div style="margin-left: 1em">
                        <div style="text-indent: -1em"><code><b>m: </b></code>number of the path nodes.</div>
                    </div>
                    <div style="margin-left: 1em">
                        <div style="text-indent: -1em"><code><b>ui, wi: </b></code>coordinates of the base polyline nodes.</div>
                    </div>
                    <div style="margin-left: 1em">
                        <div style="text-indent: -1em"><code><b>xi, yi, zi: </b></code>coordinates of the path curve nodes.</div>
                    </div>
                    <div style="margin-left: 1em">
                        <div style="text-indent: -1em"><code><b>anglei: </b></code>rotation angle of the cross-section.</div>
                    </div>
                    <div style="margin-left: 1em">
                        <div style="text-indent: -1em"><code><b>mask: </b></code>controls the existence of the bottom and top polygons’ surfaces and edges.</div><div><code>mask = j<sub>1</sub> + 2*j<sub>2</sub> + 16*j<sub>5</sub> + 32*j<sub>6</sub> + 64*j<sub>7</sub> + 128*j<sub>8</sub> + 512*j<sub>10</sub> + 1024*j<sub>11</sub> + 2048*j<sub>12</sub> + 4096*j<sub>13</sub></code>, where each j can be 0 or 1.
	</div>
                        <div><code>j<sub>1</sub>: </code>base surface is present,</div>
                        <div><code>j<sub>2</sub>: </code>end surface is present,</div>
                        <div><code>j<sub>5</sub>: </code>base edges (at x2, y2, z2) are visible,</div>
                        <div><code>j<sub>6</sub>: </code>end edges (at xm-1, ym-1, zm-1) are visible,</div>
                        <div><code>j<sub>7</sub>: </code>cross-section edges are visible, surface is articulated,</div>
                        <div><code>j<sub>8</sub>: </code>cross-section edges are sharp, the surface smoothing will stop here in OpenGL and rendering,</div>
                         <div><code>j<sub>10</sub>: </code>base edges participate in line elimination (<span class="italic">Compatibility: introduced in Archicad 23.</span>),</div>
                        <div><code>j<sub>11</sub>: </code>end edges participate in line elimination (<span class="italic">Compatibility: introduced in Archicad 23.</span>),</div>
                        <div><code>j<sub>12</sub>: </code>longitudinal edges (which connect cross sections) participate in line elimination (<span class="italic">Compatibility: introduced in Archicad 23.</span>),</div>
                        <div><code>j<sub>13</sub>: </code>edges of cross sections participate in line elimination (<span class="italic">Compatibility: introduced in Archicad 23.</span>).</div>
                    </div>
                    <div style="text-align: center"><img src="Images/GDL_Images/3Dshapes_tube_mask.png" style="text-align: middle" alt="Images/GDL_Images/3Dshapes_tube_mask.png"/></div>
                    <div style="margin-left: 1em">
                        <div style="text-indent: -1em"><code><b>si: </b></code>status of the lateral edges.</div>
                        <div><code>0: </code>lateral edges starting from the node are all visible,</div>
                        <div><code>1: </code>lateral edges starting from the node are used for showing the contour.</div>
                        <div><code>2: </code>
                            when using Archicad or Z-buffer Rendering Engine and setting Smooth Surfaces,
                            the lateral edge belonging to this point defines a break. This solution is equivalent to the definition of additional nodes.
                            The calculation is performed by the compiler. With other rendering methods, it has the same effect as using 0.
                        </div>
                    </div>
                    <p>Additional status codes allow you to create segments and arcs in the planar polyline using special constraints.</p>
                    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
                        The path comprises two points more than the number of generated sections.
                        The first and the last points determine the position in space of the first and the last surfaces belonging to the TUBE.
                        These points only play a role in determining the normal of the surfaces, they are not actual nodes of the path.
                        The orientation of the surfaces is the same as that of the surfaces that would be generated at the nodes nearest to the two endpoints,
                        if the TUBE were continued in the directions indicated by these.
                    </div>
                    
                        <pre class="programlisting">n &gt; 2 and m &gt; 3</pre>
                    
                
                <div class="example"><a id="id522837"/><p class="title"><b>Example 1:
</b></p><div class="example-contents"><div class="informaltable"><table border="0"><colgroup><col/><col/></colgroup><tbody><tr><td style="text-align: center">
                                        <div style="text-align: center"><img src="Images/GDL_Images/3Dshapes_tube_ex1.png" style="text-align: middle" alt="Images/GDL_Images/3Dshapes_tube_ex1.png"/></div>
                                    </td><td style="text-align: center">
                                        <div style="text-align: center"><img src="Images/GDL_Images/3Dshapes_tube_ex2.png" style="text-align: middle" alt="Images/GDL_Images/3Dshapes_tube_ex2.png"/></div>
                                    </td></tr></tbody></table></div><pre class="programlisting">TUBE 4, 18, 16+32,
        2.0, 0.0, 0,
        0.0, 0.0, 0,
        0.0, 0.4, 0,
        2.0, 0.4, 0,
        -1, 0, 0, 0,
        0, 0, 0, 0,
        4, 0, 0.1, 0,
        6, 0, 0.15, 0,
        6+4*sin(15), 4 - 4*cos(15), 0.2, 0,
        6+4*sin(30), 4 - 4*cos(30), 0.25, 0,
        6+4*sin(45), 4 - 4*cos(45), 0.3, 0,
        6+4*sin(60), 4 - 4*cos(60), 0.35, 0,
        6+4*sin(75), 4 - 4*cos(75), 0.4, 0,
        10, 4, 0.45, 0,
        6+4*sin(105), 4 - 4*cos(105), 0.5, 0,
        6+4*sin(120), 4 - 4*cos(120), 0.55, 0,
        6+4*sin(135), 4 - 4*cos(135), 0.6, 0,
        6+4*sin(150), 4 - 4*cos(150), 0.65, 0,
        6+4*sin(165), 4 - 4*cos(165), 0.7, 0,
        6, 8, 0.75, 0,
        0, 8, 1, 0,
        -1, 8, 1, 0</pre></div></div>
                <div class="example"><a id="id522856"/><p class="title"><b>Example 2:
</b></p><div class="example-contents"><div class="informaltable"><table border="0"><colgroup><col/><col/></colgroup><tbody><tr><td>
                                        <pre class="programlisting">TUBE 14, 6, 1+2+16+32,
        0, 0,0,
        0.03, 0,0,
        0.03, 0.02, 0,
        0.06, 0.02, 0,
        0.05, 0.0699, 0,
        0.05, 0.07, 1,
        0.05, 0.15, 901,
        1, 0, 801,
        0.08, 90, 2000,
        0.19, 0.15, 0,
        0.19, 0.19, 0,
        0.25, 0.19, 0,
        0.25, 0.25, 0,
        0, 0.25, 0,
        0, 1, 0, 0,
        0, 0.0001, 0, 0,
        0, 0, 0, 0,
        -0.8, 0, 0, 0,
        -0.8, 0.0001, 0, 0,
        -0.8, 1, 0, 0</pre>
                                    </td><td>
                                        <div style="text-align: center"><img src="Images/GDL_Images/3Dshapes_tube_ex4.png" style="text-align: middle" alt="Images/GDL_Images/3Dshapes_tube_ex4.png"/></div>
                                    </td></tr></tbody></table></div></div></div>
                <div class="example"><a id="id522890"/><p class="title"><b>Example 3:
</b></p><div class="example-contents"><div class="informaltable"><table border="0"><colgroup><col/><col/></colgroup><tbody><tr><td>
                                        <pre class="programlisting">TUBE 3, 7, 16+32,
        0, 0, 0,
        -0.5, 0, 0,
        0, 0.5, 0,
        0.2, 0, -0.2, 0,
        0, 0, 0, 0,
        0, 0, 5, 0,
        3, 0, 5, 0,
        3, 4, 5, 0,
        3, 4, 0, 0,
        3, 3.8, -0.2, 0</pre>
                                    </td><td>
                                        <div style="text-align: center"><img src="Images/GDL_Images/3Dshapes_tube_ex3.png" style="text-align: middle" alt="Images/GDL_Images/3Dshapes_tube_ex3.png"/></div>
                                    </td></tr></tbody></table></div></div></div>
            <hr/><a href="002.007.html#TUBE_gdlcommand">Related in 3D Shapes</a><p>
                <span class="bold"><strong>GDL Reference Guide</strong></span>
            </p><p>
                <span class="trademark">Copyright</span><sup>©</sup> 2023 by Graphisoft, all rights reserved.
                Reproduction, paraphrasing or translation without express prior written permission is strictly prohibited.
            </p></body></html>
